{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/Users/gotoo/Documents/react-app/tango react node/tango/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";import _regeneratorRuntime from\"C:/Users/gotoo/Documents/react-app/tango react node/tango/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/gotoo/Documents/react-app/tango react node/tango/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6;import React,{useEffect}from'react';import axios from'axios';import{Container}from'../Theme/globalStyles';import{Link,useParams,useNavigate}from'react-router-dom';// import './Section_menu.css'\nimport Statusbox from'../Statusbox';import styled from'styled-components';import{ButtonWrap}from'../Theme/globalStyles';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Menu(_ref){var status=_ref.status,setStatus=_ref.setStatus;var params=useParams();var section=params.sectionNum;var navigate=useNavigate();useEffect(function(){axios.get(\"/api/tango/result/\".concat(section)).then(function(response){setStatus(response.data);});},[]);var move=function move(lean){navigate('/quez/'+section+'/'+lean);};var startOver=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post(\"/api/tango/clear/\".concat(section,\"/0/3\"));case 2:_context.next=4;return axios.get(\"/api/tango/result/\".concat(section)).then(function(response){setStatus(response.data);});case 4:navigate('/quez/'+section+'/1');case 5:case\"end\":return _context.stop();}}},_callee);}));return function startOver(){return _ref2.apply(this,arguments);};}();// const nextMenu = () => {\n//     navigate('/menu/'+section)\n// }     \nvar nextMenu=function nextMenu(){setStatus('');var next=Number(section)+1;axios.get(\"/api/tango/result/\".concat(next)).then(function(response){setStatus(response.data);});navigate('/menu/'+next);};var beforeMenu=function beforeMenu(){setStatus('');var before=Number(section)-1;axios.get(\"/api/tango/result/\".concat(before)).then(function(response){setStatus(response.data);});navigate('/menu/'+before);};return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Link,{to:'/',children:\"\\u2190Home\"}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"Section\",section]}),/*#__PURE__*/_jsxs(BoxesWrap,{children:[/*#__PURE__*/_jsx(S,{children:/*#__PURE__*/_jsx(Statusbox,{text:\"\\u9032\\u6357\",percentage:status?\"\".concat(status.answered):'0',bar_color:\"#2ca2ff\",emp:\"3\"})}),/*#__PURE__*/_jsx(S,{children:/*#__PURE__*/_jsx(Statusbox,{text:\"\\u5B9A\\u7740\\u5EA6\",percentage:status?\"\".concat(status.answerrate):'0',bar_color:\"#b0f74c\",emp:\"3\"})})]}),/*#__PURE__*/_jsx(ButtonWrap,{color:\"#ff7575\",onClick:function onClick(){return move(2);},children:/*#__PURE__*/_jsx(ButtonText,{children:\"\\u59CB\\u3081\\u308B\"})}),/*#__PURE__*/_jsx(ButtonWrap,{color:\"#34daff\",onClick:function onClick(){return startOver();},children:/*#__PURE__*/_jsx(ButtonText,{children:\"1\\u304B\\u3089\\u306F\\u3058\\u3081\\u308B\"})}),/*#__PURE__*/_jsx(ButtonWrap,{color:\"#96ed8e\",onClick:function onClick(){return move(3);},show:status?\"\".concat(status.answered===100?'block':'none'):'none',children:/*#__PURE__*/_jsx(ButtonText,{children:\"\\u2715\\u306E\\u5358\\u8A9E\\u306E\\u307F\\u5FA9\\u7FD2\\u3059\\u308B\"})}),/*#__PURE__*/_jsxs(MoveWrap,{children:[section>1&&/*#__PURE__*/_jsx(Move,{m:\"right\",onClick:function onClick(){return beforeMenu();},children:\"Before\"}),section<18&&/*#__PURE__*/_jsx(Move,{m:\"left\",onClick:function onClick(){return nextMenu();},children:\"Next\"})]})]});}var ButtonText=styled.p(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    text-align: center;\\n    line-height: 50px;\\n    font-size: 30px;\\n\"])));var S=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    @media screen and (max-width: 450px) {\\n        width: 50%;\\n    }\\n    margin-right: 0px;\\n    width: 180px;\\n\"])));var MenuWrap=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n\"])));var BoxesWrap=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n    max-width: 400px;\\n    margin: auto;\\n    display: flex;\\n    margin-bottom: 20px;\\n\"])));var MoveWrap=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n    display: flex;\\n\"])));var Move=styled.p(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n    cursor: pointer;\\n    font-size: 20px;\\n    padding: 5px 15px;\\n    border-radius: 5px;\\n    margin-left: \",\";\\n    margin-right: \",\";\\n    &:hover{\\n        background-color: pink;\\n    }\\n\"])),function(props){return props.m=='left'?'auto':'0';},function(props){return props.m=='right'?'auto':'0';});export default Menu;","map":{"version":3,"names":["React","useEffect","axios","Container","Link","useParams","useNavigate","Statusbox","styled","ButtonWrap","Menu","status","setStatus","params","section","sectionNum","navigate","get","then","response","data","move","lean","startOver","post","nextMenu","next","Number","beforeMenu","before","answered","answerrate","ButtonText","p","S","div","MenuWrap","BoxesWrap","MoveWrap","Move","props","m"],"sources":["C:/Users/gotoo/Documents/react-app/tango react node/tango/src/Components/Menu/Menu.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport axios from 'axios';\nimport { Container } from '../Theme/globalStyles';\nimport { Link, useParams, useNavigate } from 'react-router-dom';\n// import './Section_menu.css'\nimport Statusbox from '../Statusbox'\nimport styled from 'styled-components';\nimport { ButtonWrap } from '../Theme/globalStyles';\n\nfunction Menu({ status, setStatus }) {\n    let params = useParams();\n    const section = params.sectionNum;\n    const navigate = useNavigate()\n    useEffect(() => {\n        axios.get(`/api/tango/result/${section}`)\n            .then(response => {setStatus(response.data)})\n      }, [])\n    const move = (lean) => {\n        navigate('/quez/'+section+'/'+lean)\n    }\n    const startOver = async () => {\n        await axios.post(`/api/tango/clear/${section}/0/3`)\n        await axios.get(`/api/tango/result/${section}`)\n            .then(response => {setStatus(response.data)})\n        navigate('/quez/'+section+'/1')\n    }\n    // const nextMenu = () => {\n    //     navigate('/menu/'+section)\n    // }     \n    const nextMenu = () => {\n        setStatus('')\n        const next = Number(section)+1\n        axios.get(`/api/tango/result/${next}`)\n        .then(response => {setStatus(response.data)})\n        navigate('/menu/'+next)\n\n    }\n\n    const beforeMenu = () => {\n        setStatus('')\n        const before = Number(section)-1\n        axios.get(`/api/tango/result/${before}`)\n        .then(response => {setStatus(response.data)})\n        navigate('/menu/'+before)\n\n    }\n\n  return (\n    <Container>\n            <Link to={'/'}>←Home</Link>\n            <h2>Section{section}</h2>\n        <BoxesWrap>\n            <S>\n                <Statusbox\n                    text='進捗'\n                    percentage={status ? `${status.answered}` : '0' }\n                    bar_color='#2ca2ff'\n                    emp='3'\n                />\n            </S>\n            <S>\n                <Statusbox\n                    text='定着度'\n                    percentage={status ? `${status.answerrate}` : '0' }\n                    bar_color='#b0f74c'\n                    emp='3'\n                />\n            </S>\n        </BoxesWrap>\n        <ButtonWrap color='#ff7575' onClick={()=>move(2)}>\n            <ButtonText >始める</ButtonText> \n        </ButtonWrap>\n        <ButtonWrap color='#34daff' onClick={() => startOver()}>\n            <ButtonText >1からはじめる</ButtonText> \n        </ButtonWrap>\n        <ButtonWrap color='#96ed8e' onClick={()=>move(3)} show={status?`${status.answered===100?'block':'none'}`:'none'}>\n            <ButtonText>✕の単語のみ復習する</ButtonText>\n        </ButtonWrap>\n        <MoveWrap>\n            {section>1 && <Move m='right' onClick={() => beforeMenu()}>Before</Move>}\n            {section<18 && <Move m='left' onClick={() => nextMenu()}>Next</Move>}\n        </MoveWrap>\n    </Container>\n  )\n}\n\nconst ButtonText = styled.p`\n    text-align: center;\n    line-height: 50px;\n    font-size: 30px;\n`\n\nconst S = styled.div`\n    @media screen and (max-width: 450px) {\n        width: 50%;\n    }\n    margin-right: 0px;\n    width: 180px;\n`\nconst MenuWrap = styled.div`\n`\nconst BoxesWrap = styled.div`\n    max-width: 400px;\n    margin: auto;\n    display: flex;\n    margin-bottom: 20px;\n`\nconst MoveWrap = styled.div`\n    display: flex;\n`\nconst Move = styled.p`\n    cursor: pointer;\n    font-size: 20px;\n    padding: 5px 15px;\n    border-radius: 5px;\n    margin-left: ${props => props.m=='left' ? 'auto' : '0'};\n    margin-right: ${props => props.m=='right' ? 'auto' : '0'};\n    &:hover{\n        background-color: pink;\n    }\n`\n\nexport default Menu"],"mappings":"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"},"metadata":{},"sourceType":"module"}