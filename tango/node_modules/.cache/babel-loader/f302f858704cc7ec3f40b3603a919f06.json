{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/Users/gotoo/Documents/react-app/tango react node/tango/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";import _regeneratorRuntime from\"C:/Users/gotoo/Documents/react-app/tango react node/tango/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/gotoo/Documents/react-app/tango react node/tango/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/gotoo/Documents/react-app/tango react node/tango/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7;import React,{useEffect,useState}from'react';import axios from'axios';import{Container}from'../Theme/globalStyles';import{Link,useParams,useNavigate}from'react-router-dom';// import './Section_menu.css'\nimport Statusbox from'../Statusbox';import styled from'styled-components';import{ButtonWrap}from'../Theme/globalStyles';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Menu(_ref){var status=_ref.status,setStatus=_ref.setStatus,settm=_ref.settm;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),count=_useState2[0],setCount=_useState2[1];var params=useParams();var section=params.sectionNum;var navigate=useNavigate();useEffect(function(){axios.get(\"/api/tango/result/\".concat(section)).then(function(response){setStatus(response.data);setCount({'count0':response.data.count3});console.log(response.data);});},[]);var move=function move(learn){navigate('/quez/'+section+'/'+learn);};var startOver=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!count.count1){_context.next=3;break;}_context.next=3;return axios.post(\"/api/tango/clear/\".concat(section,\"/2/2/3\"));case 3:_context.next=5;return axios.post(\"/api/tango/clear/\".concat(section,\"/2/2/3\"));case 5:_context.next=7;return axios.get(\"/api/tango/result/\".concat(section)).then(function(response){setStatus(response.data);});case 7:navigate('/quez/'+section+'/2');case 8:case\"end\":return _context.stop();}}},_callee);}));return function startOver(){return _ref2.apply(this,arguments);};}();var nextMenu=function nextMenu(){setStatus('');var next=Number(section)+1;axios.get(\"/api/tango/result/\".concat(next)).then(function(response){setStatus(response.data);});navigate('/menu/'+next);};var beforeMenu=function beforeMenu(){setStatus('');var before=Number(section)-1;axios.get(\"/api/tango/result/\".concat(before)).then(function(response){setStatus(response.data);});navigate('/menu/'+before);};var changetm=function changetm(tms){settm(tms);};return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Link,{to:'/',children:\"\\u2190Home\"}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"Section\",section]}),/*#__PURE__*/_jsxs(BoxesWrap,{children:[/*#__PURE__*/_jsx(S,{children:/*#__PURE__*/_jsx(Statusbox,{text:\"\\u9032\\u6357\",percentage:status?\"\".concat(status.answered):'0',bar_color:\"#2ca2ff\",emp:\"3\"})}),/*#__PURE__*/_jsx(S,{children:/*#__PURE__*/_jsx(Statusbox,{text:\"\\u5B9A\\u7740\\u5EA6\",percentage:status?\"\".concat(status.answerrate):'0',bar_color:\"#b0f74c\",emp:\"3\"})})]}),/*#__PURE__*/_jsx(ButtonWrap,{color:\"#ff7575\",onClick:function onClick(){return move(2);},children:/*#__PURE__*/_jsx(ButtonText,{children:\"\\u59CB\\u3081\\u308B\"})}),/*#__PURE__*/_jsx(ButtonWrap,{color:\"#34daff\",onClick:function onClick(){return startOver();},children:/*#__PURE__*/_jsx(ButtonText,{children:\"1\\u304B\\u3089\\u5FA9\\u7FD2\"})}),/*#__PURE__*/_jsx(ButtonWrap,{color:\"#96ed8e\",onClick:function onClick(){return move(3);},show:count.count0!=0?'block':'none',children:/*#__PURE__*/_jsx(ButtonText,{children:\"\\u2715\\u306E\\u5358\\u8A9E\\u306E\\u307F\\u5FA9\\u7FD2\\u3059\\u308B\"})}),/*#__PURE__*/_jsxs(MoveWrap,{children:[section>1&&/*#__PURE__*/_jsx(Move,{m:\"right\",onClick:function onClick(){return beforeMenu();},children:\"\\u524D\\u306E\\u30BB\\u30AF\\u30B7\\u30E7\\u30F3\"}),section<18&&/*#__PURE__*/_jsx(Move,{m:\"left\",onClick:function onClick(){return nextMenu();},children:\"\\u6B21\\u306E\\u30BB\\u30AF\\u30B7\\u30E7\\u30F3\"})]}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u7B54\\u3048\\u304C\\u51FA\\u308B\\u307E\\u3067\\u306E\\u6642\\u9593\\u3092\\u5909\\u66F4\"}),/*#__PURE__*/_jsxs(TmButton,{children:[/*#__PURE__*/_jsx(\"p\",{onClick:function onClick(){return changetm(4000);},children:\"4\\u79D2\"}),/*#__PURE__*/_jsx(\"p\",{onClick:function onClick(){return changetm(6000);},children:\"6\\u79D2\"}),/*#__PURE__*/_jsx(\"p\",{onClick:function onClick(){return changetm(8000);},children:\"8\\u79D2\"})]})]});}var TmButton=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    display: flex;\\n    p{\\n        margin: 0 5px;\\n        padding: 10px 30px;\\n    }\\n    p:hover{\\n        background-color: aliceblue;\\n    }\\n    p:active{\\n        background-color: antiquewhite;\\n    }\\n\"])));var ButtonText=styled.p(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    text-align: center;\\n    line-height: 50px;\\n    font-size: 30px;\\n\"])));var S=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n    @media screen and (max-width: 450px) {\\n        width: 50%;\\n    }\\n    margin-right: 0px;\\n    width: 180px;\\n\"])));var MenuWrap=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n\"])));var BoxesWrap=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n    max-width: 400px;\\n    margin: auto;\\n    display: flex;\\n    margin-bottom: 20px;\\n\"])));var MoveWrap=styled.div(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n    display: flex;\\n\"])));var Move=styled.p(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n    cursor: pointer;\\n    font-size: 20px;\\n    padding: 5px 15px;\\n    border-radius: 5px;\\n    margin-left: \",\";\\n    margin-right: \",\";\\n    &:hover{\\n        background-color: pink;\\n    }\\n\"])),function(props){return props.m=='left'?'auto':'0';},function(props){return props.m=='right'?'auto':'0';});export default Menu;","map":{"version":3,"names":["React","useEffect","useState","axios","Container","Link","useParams","useNavigate","Statusbox","styled","ButtonWrap","Menu","status","setStatus","settm","count","setCount","params","section","sectionNum","navigate","get","then","response","data","count3","console","log","move","learn","startOver","count1","post","nextMenu","next","Number","beforeMenu","before","changetm","tms","answered","answerrate","count0","TmButton","div","ButtonText","p","S","MenuWrap","BoxesWrap","MoveWrap","Move","props","m"],"sources":["C:/Users/gotoo/Documents/react-app/tango react node/tango/src/Components/Menu/Menu.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { Container } from '../Theme/globalStyles';\nimport { Link, useParams, useNavigate } from 'react-router-dom';\n// import './Section_menu.css'\nimport Statusbox from '../Statusbox'\nimport styled from 'styled-components';\nimport { ButtonWrap } from '../Theme/globalStyles';\n\nfunction Menu({ status, setStatus, settm }) {\n    const [count, setCount] = useState('')\n    let params = useParams();\n    const section = params.sectionNum;\n    const navigate = useNavigate()\n\n    useEffect(() => {\n        axios.get(`/api/tango/result/${section}`)\n            .then(response => {\n                setStatus(response.data)\n                setCount({'count0':response.data.count3})\n                console.log(response.data)\n            })\n      }, [])\n    const move = (learn) => {\n        navigate('/quez/'+section+'/'+learn)\n    }\n    const startOver = async () => {\n        if(count.count1)await axios.post(`/api/tango/clear/${section}/2/2/3`)\n        await axios.post(`/api/tango/clear/${section}/2/2/3`)\n        await axios.get(`/api/tango/result/${section}`)\n            .then(response => {setStatus(response.data)})\n        navigate('/quez/'+section+'/2')\n    }\n    const nextMenu = () => {\n        setStatus('')\n        const next = Number(section)+1\n        axios.get(`/api/tango/result/${next}`)\n        .then(response => {setStatus(response.data)})\n        navigate('/menu/'+next)\n\n    }\n\n    const beforeMenu = () => {\n        setStatus('')\n        const before = Number(section)-1\n        axios.get(`/api/tango/result/${before}`)\n        .then(response => {setStatus(response.data)})\n        navigate('/menu/'+before)\n    }\n\n    const changetm = (tms) => {\n        settm(tms)\n    }\n\n  return (\n    <Container>\n            <Link to={'/'}>←Home</Link>\n            <h2>Section{section}</h2>\n        <BoxesWrap>\n            <S>\n                <Statusbox\n                    text='進捗'\n                    percentage={status ? `${status.answered}` : '0' }\n                    bar_color='#2ca2ff'\n                    emp='3'\n                />\n            </S>\n            <S>\n                <Statusbox\n                    text='定着度'\n                    percentage={status ? `${status.answerrate}` : '0' }\n                    bar_color='#b0f74c'\n                    emp='3'\n                />\n            </S>\n        </BoxesWrap>\n        <ButtonWrap color='#ff7575' onClick={()=>move(2)}>\n            <ButtonText >始める</ButtonText> \n        </ButtonWrap>\n        <ButtonWrap color='#34daff' onClick={() => startOver()}>\n            <ButtonText >1から復習</ButtonText> \n        </ButtonWrap>\n        <ButtonWrap color='#96ed8e' onClick={()=>move(3)} show={count.count0!=0?'block':'none'}>\n            <ButtonText>✕の単語のみ復習する</ButtonText>\n        </ButtonWrap>\n        <MoveWrap>\n            {section>1 && <Move m='right' onClick={() => beforeMenu()}>前のセクション</Move>}\n            {section<18 && <Move m='left' onClick={() => nextMenu()}>次のセクション</Move>}\n        </MoveWrap>\n        <p>答えが出るまでの時間を変更</p>\n        <TmButton>\n            <p onClick={()=>changetm(4000)}>4秒</p>\n            <p onClick={()=>changetm(6000)}>6秒</p>\n            <p onClick={()=>changetm(8000)}>8秒</p>\n        </TmButton>\n    </Container>\n  )\n}\n\nconst TmButton = styled.div`\n    display: flex;\n    p{\n        margin: 0 5px;\n        padding: 10px 30px;\n    }\n    p:hover{\n        background-color: aliceblue;\n    }\n    p:active{\n        background-color: antiquewhite;\n    }\n`\n\nconst ButtonText = styled.p`\n    text-align: center;\n    line-height: 50px;\n    font-size: 30px;\n`\n\nconst S = styled.div`\n    @media screen and (max-width: 450px) {\n        width: 50%;\n    }\n    margin-right: 0px;\n    width: 180px;\n`\nconst MenuWrap = styled.div`\n`\nconst BoxesWrap = styled.div`\n    max-width: 400px;\n    margin: auto;\n    display: flex;\n    margin-bottom: 20px;\n`\nconst MoveWrap = styled.div`\n    display: flex;\n`\nconst Move = styled.p`\n    cursor: pointer;\n    font-size: 20px;\n    padding: 5px 15px;\n    border-radius: 5px;\n    margin-left: ${props => props.m=='left' ? 'auto' : '0'};\n    margin-right: ${props => props.m=='right' ? 'auto' : '0'};\n    &:hover{\n        background-color: pink;\n    }\n`\n\nexport default Menu"],"mappings":"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"},"metadata":{},"sourceType":"module"}